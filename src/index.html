<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- displays site properly based on user's device -->
    <title>Frontend Mentor | Calculator app</title>
    <script>
      (function () {
        const THEME_BG_COLOR = { 1: "#3a4663", 2: "#E6E6E6", 3: "#17062a" };
        function getDefaultTheme() {
          const persistedThemePreference =
            localStorage.getItem("selected-theme");
          const hasPersistedPreference =
            typeof persistedThemePreference === "string";

          if (hasPersistedPreference) {
            const root = window.document.documentElement;
            root.style.setProperty(
              "--background-color",
              THEME_BG_COLOR[persistedThemePreference]
            );
            return persistedThemePreference;
          }
          try {
            // If they haven't been explicit, let's check the media query
            const preferedColorScheme = window.matchMedia(
              "(prefers-color-scheme: dark)"
            );
            const hasMediaQueryPreference =
              typeof preferedColorScheme.matches === "boolean";

            if (hasMediaQueryPreference) {
              return preferedColorScheme.matches ? "1" : "2";
            }
          } catch (error) {
            throw new Error(
              "prefers-color-scheme is not supported by the browser"
            );
          }

          // Default to Dark
          return "1";
        }
        const theme = getDefaultTheme();
        const root = window.document.documentElement;
        root.style.setProperty("--background-color", THEME_BG_COLOR[theme]);
      })();
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script src="./App.js"></script>
  </body>
</html>
